\hypertarget{mensaje_8h}{}\doxysection{headers/mensaje.h File Reference}
\label{mensaje_8h}\index{headers/mensaje.h@{headers/mensaje.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../headers/avion.\+h\char`\"{}}\newline
Include dependency graph for mensaje.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{mensaje_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mensaje_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}{L\+O\+N\+G\+\_\+\+M\+S\+J\+\_\+\+S\+E\+RV}}~120+1
\item 
\#define \mbox{\hyperlink{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}{L\+O\+N\+G\+\_\+\+C\+O\+M\+B\+U\+S\+T\+I\+B\+L\+E\+A\+V\+I\+ON}}~10+1
\item 
\#define \mbox{\hyperlink{mensaje_8h_a720ddf275c31e71083d08b000a626936}{L\+O\+N\+G\+\_\+\+E\+S\+T\+A\+D\+O\+A\+V\+I\+ON}}~1+1
\item 
\#define \mbox{\hyperlink{mensaje_8h_abb48753d526952a4078d39566d090b23}{L\+O\+N\+G\+\_\+\+O\+P\+C\+I\+O\+N\+A\+V\+I\+ON}}~1+1
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{mensaje_8h_acf25b5874aa3455a221c1a6dddec020e}{liberar\+Buffer}} ()
\item 
void \mbox{\hyperlink{mensaje_8h_ae5fe7b33803b8654e122f4c89081eca7}{inicializar\+Msj\+Servidor}} (char $\ast$)
\item 
void \mbox{\hyperlink{mensaje_8h_af0afa2092f350f08c77b0f7b3da79731}{formatear\+Mensaje}} (char $\ast$, const \mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} $\ast$, const int $\ast$)
\item 
void \mbox{\hyperlink{mensaje_8h_a58de7c55d4230933cd3ba356892051dc}{mostrar\+Mensaje}} (char $\ast$)
\item 
void \mbox{\hyperlink{mensaje_8h_aac9395e778753e9789f502aa27ce62df}{parsear\+Mensaje}} (\mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} $\ast$, char $\ast$)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}\label{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}} 
\index{mensaje.h@{mensaje.h}!LONG\_COMBUSTIBLEAVION@{LONG\_COMBUSTIBLEAVION}}
\index{LONG\_COMBUSTIBLEAVION@{LONG\_COMBUSTIBLEAVION}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{LONG\_COMBUSTIBLEAVION}{LONG\_COMBUSTIBLEAVION}}
{\footnotesize\ttfamily \#define L\+O\+N\+G\+\_\+\+C\+O\+M\+B\+U\+S\+T\+I\+B\+L\+E\+A\+V\+I\+ON~10+1}



Definition at line 17 of file mensaje.\+h.

\mbox{\Hypertarget{mensaje_8h_a720ddf275c31e71083d08b000a626936}\label{mensaje_8h_a720ddf275c31e71083d08b000a626936}} 
\index{mensaje.h@{mensaje.h}!LONG\_ESTADOAVION@{LONG\_ESTADOAVION}}
\index{LONG\_ESTADOAVION@{LONG\_ESTADOAVION}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{LONG\_ESTADOAVION}{LONG\_ESTADOAVION}}
{\footnotesize\ttfamily \#define L\+O\+N\+G\+\_\+\+E\+S\+T\+A\+D\+O\+A\+V\+I\+ON~1+1}



Definition at line 18 of file mensaje.\+h.

\mbox{\Hypertarget{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}\label{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}} 
\index{mensaje.h@{mensaje.h}!LONG\_MSJ\_SERV@{LONG\_MSJ\_SERV}}
\index{LONG\_MSJ\_SERV@{LONG\_MSJ\_SERV}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{LONG\_MSJ\_SERV}{LONG\_MSJ\_SERV}}
{\footnotesize\ttfamily \#define L\+O\+N\+G\+\_\+\+M\+S\+J\+\_\+\+S\+E\+RV~120+1}



Definition at line 16 of file mensaje.\+h.

\mbox{\Hypertarget{mensaje_8h_abb48753d526952a4078d39566d090b23}\label{mensaje_8h_abb48753d526952a4078d39566d090b23}} 
\index{mensaje.h@{mensaje.h}!LONG\_OPCIONAVION@{LONG\_OPCIONAVION}}
\index{LONG\_OPCIONAVION@{LONG\_OPCIONAVION}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{LONG\_OPCIONAVION}{LONG\_OPCIONAVION}}
{\footnotesize\ttfamily \#define L\+O\+N\+G\+\_\+\+O\+P\+C\+I\+O\+N\+A\+V\+I\+ON~1+1}



Definition at line 19 of file mensaje.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mensaje_8h_af0afa2092f350f08c77b0f7b3da79731}\label{mensaje_8h_af0afa2092f350f08c77b0f7b3da79731}} 
\index{mensaje.h@{mensaje.h}!formatearMensaje@{formatearMensaje}}
\index{formatearMensaje@{formatearMensaje}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{formatearMensaje()}{formatearMensaje()}}
{\footnotesize\ttfamily void formatear\+Mensaje (\begin{DoxyParamCaption}\item[{char $\ast$}]{msj\+Servidor,  }\item[{const \mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} $\ast$}]{avion,  }\item[{const int $\ast$}]{opcion }\end{DoxyParamCaption})}

Crea punteros de variables de \mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} con sus correspondientes reservas de memoria, Rellena esas variables con los datos de la \mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} recibida. Llama a concatenar\+Msj\+Servidor y libera punteros. 
\begin{DoxyParams}{Parameters}
{\em msj\+Servidor,avion,opcion} & \\
\hline
\end{DoxyParams}


Definition at line 54 of file mensaje.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{54                                                                                      \{}
\DoxyCodeLine{55     printf(\textcolor{stringliteral}{"*formatearMensaje*\(\backslash\)n"});}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keywordtype}{char} * combustibleActAvion = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*\mbox{\hyperlink{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}{LONG\_COMBUSTIBLEAVION}}); \textcolor{comment}{// Crear variables}}
\DoxyCodeLine{58     \textcolor{keywordtype}{char} * combustibleMaxAvion = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*(\mbox{\hyperlink{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}{LONG\_COMBUSTIBLEAVION}}));}
\DoxyCodeLine{59     \textcolor{keywordtype}{char} * estadoAvion = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*\mbox{\hyperlink{mensaje_8h_a720ddf275c31e71083d08b000a626936}{LONG\_ESTADOAVION}});}
\DoxyCodeLine{60     \textcolor{keywordtype}{char} * opcionAvion = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*\mbox{\hyperlink{mensaje_8h_abb48753d526952a4078d39566d090b23}{LONG\_OPCIONAVION}});}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     memset(combustibleActAvion, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}{LONG\_COMBUSTIBLEAVION}}); \textcolor{comment}{// Inicializar Variables}}
\DoxyCodeLine{63     memset(combustibleMaxAvion, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_aa8d36f8dad9016ef721f5bfcaacb5b46}{LONG\_COMBUSTIBLEAVION}});}
\DoxyCodeLine{64     memset(estadoAvion, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_a720ddf275c31e71083d08b000a626936}{LONG\_ESTADOAVION}});}
\DoxyCodeLine{65     memset(opcionAvion, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_abb48753d526952a4078d39566d090b23}{LONG\_OPCIONAVION}});}
\DoxyCodeLine{66     \mbox{\hyperlink{mensaje_8c_aea7564d810d8d780d58757aec853c5fa}{inicializarMsjServidor}}(msjServidor);}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     sprintf(combustibleActAvion, \textcolor{stringliteral}{"\%d"}, avion-\/>\mbox{\hyperlink{structST__AVION_adb5bb0a96407813d7d6bca1d593797ff}{combustibleActual}}); \textcolor{comment}{// Copiar valores a char}}
\DoxyCodeLine{69     sprintf(combustibleMaxAvion, \textcolor{stringliteral}{"\%d"}, avion-\/>\mbox{\hyperlink{structST__AVION_ae54bdd51b1a7cfd9bb224518c5a54650}{combustibleMaximo}});}
\DoxyCodeLine{70     sprintf(estadoAvion, \textcolor{stringliteral}{"\%d"}, avion-\/>\mbox{\hyperlink{structST__AVION_a3667c4d330daca662e3799f2a8ac94f9}{estado}});}
\DoxyCodeLine{71     sprintf(opcionAvion, \textcolor{stringliteral}{"\%d"}, *opcion);}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \mbox{\hyperlink{mensaje_8c_aee817f3ad7deb8521f5625866114f04d}{concatenarMsjServidor}}(msjServidor, avion, combustibleActAvion, combustibleMaxAvion, estadoAvion, opcionAvion);}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     free(combustibleActAvion); \textcolor{comment}{// Liberar punteros}}
\DoxyCodeLine{76     free(combustibleMaxAvion);}
\DoxyCodeLine{77     free(estadoAvion);}
\DoxyCodeLine{78     free(opcionAvion);}
\DoxyCodeLine{79 \}}

\end{DoxyCode}
\mbox{\Hypertarget{mensaje_8h_ae5fe7b33803b8654e122f4c89081eca7}\label{mensaje_8h_ae5fe7b33803b8654e122f4c89081eca7}} 
\index{mensaje.h@{mensaje.h}!inicializarMsjServidor@{inicializarMsjServidor}}
\index{inicializarMsjServidor@{inicializarMsjServidor}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{inicializarMsjServidor()}{inicializarMsjServidor()}}
{\footnotesize\ttfamily void inicializar\+Msj\+Servidor (\begin{DoxyParamCaption}\item[{char $\ast$}]{msj\+Servidor }\end{DoxyParamCaption})}

Limpia el parametro recibido por referencia 
\begin{DoxyParams}{Parameters}
{\em msj\+Servidor} & \\
\hline
\end{DoxyParams}


Definition at line 22 of file mensaje.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{22                                                \{}
\DoxyCodeLine{23     printf(\textcolor{stringliteral}{"*inicializarMsjServidor*\(\backslash\)n"});}
\DoxyCodeLine{24 }
\DoxyCodeLine{25     memset(msjServidor, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}{LONG\_MSJ\_SERV}});}
\DoxyCodeLine{26 \}}

\end{DoxyCode}
\mbox{\Hypertarget{mensaje_8h_acf25b5874aa3455a221c1a6dddec020e}\label{mensaje_8h_acf25b5874aa3455a221c1a6dddec020e}} 
\index{mensaje.h@{mensaje.h}!liberarBuffer@{liberarBuffer}}
\index{liberarBuffer@{liberarBuffer}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{liberarBuffer()}{liberarBuffer()}}
{\footnotesize\ttfamily void liberar\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 13 of file mensaje.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                     \{}
\DoxyCodeLine{14     \textcolor{keywordtype}{char} c;}
\DoxyCodeLine{15     \textcolor{keywordflow}{while}((c = getchar()) != \textcolor{charliteral}{'\(\backslash\)n'} \&\& c != EOF);}
\DoxyCodeLine{16 \}}

\end{DoxyCode}
\mbox{\Hypertarget{mensaje_8h_a58de7c55d4230933cd3ba356892051dc}\label{mensaje_8h_a58de7c55d4230933cd3ba356892051dc}} 
\index{mensaje.h@{mensaje.h}!mostrarMensaje@{mostrarMensaje}}
\index{mostrarMensaje@{mostrarMensaje}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{mostrarMensaje()}{mostrarMensaje()}}
{\footnotesize\ttfamily void mostrar\+Mensaje (\begin{DoxyParamCaption}\item[{char $\ast$}]{msj\+Servidor }\end{DoxyParamCaption})}

Imprime en pantalla el mensaje recibido del Servidor sin parsear. 
\begin{DoxyParams}{Parameters}
{\em msj\+Servidor} & \\
\hline
\end{DoxyParams}


Definition at line 107 of file mensaje.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                                        \{}
\DoxyCodeLine{108     printf(\textcolor{stringliteral}{"*mostrarMensaje*\(\backslash\)n"});}
\DoxyCodeLine{109 }
\DoxyCodeLine{110     printf(\textcolor{stringliteral}{"Mensaje recibido: \%s\(\backslash\)n"}, msjServidor);}
\DoxyCodeLine{111 \}}

\end{DoxyCode}
\mbox{\Hypertarget{mensaje_8h_aac9395e778753e9789f502aa27ce62df}\label{mensaje_8h_aac9395e778753e9789f502aa27ce62df}} 
\index{mensaje.h@{mensaje.h}!parsearMensaje@{parsearMensaje}}
\index{parsearMensaje@{parsearMensaje}!mensaje.h@{mensaje.h}}
\doxysubsubsection{\texorpdfstring{parsearMensaje()}{parsearMensaje()}}
{\footnotesize\ttfamily void parsear\+Mensaje (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structST__AVION}{S\+T\+\_\+\+A\+V\+I\+ON}} $\ast$}]{avion,  }\item[{char $\ast$}]{msj\+Servidor }\end{DoxyParamCaption})}

Recibe el mensaje del Servidor, el cual separa y toma cada dato para ser guardado en la variable correspondiente dentro de la estructura del avion recibida por referencia 
\begin{DoxyParams}{Parameters}
{\em avion,msj\+Servidor} & \\
\hline
\end{DoxyParams}


Definition at line 86 of file mensaje.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{86                                                          \{}
\DoxyCodeLine{87     printf(\textcolor{stringliteral}{"*parsearMensaje*\(\backslash\)n"});}
\DoxyCodeLine{88 }
\DoxyCodeLine{89     \textcolor{keywordtype}{char} * linea = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*\mbox{\hyperlink{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}{LONG\_MSJ\_SERV}});}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     memset(linea, \textcolor{charliteral}{'\(\backslash\)0'}, \mbox{\hyperlink{mensaje_8h_a9469b1322167bd46d4b657d7ff0f49b8}{LONG\_MSJ\_SERV}});}
\DoxyCodeLine{92     strcpy(linea, msjServidor);}
\DoxyCodeLine{93     \mbox{\hyperlink{mensaje_8c_aea7564d810d8d780d58757aec853c5fa}{inicializarMsjServidor}}(msjServidor);}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     strcpy(avion-\/>\mbox{\hyperlink{structST__AVION_a006befd8e19b9bbb16bc6233157c79ea}{identificador}}, strtok(linea, \textcolor{stringliteral}{"|"}));}
\DoxyCodeLine{96     strcpy(avion-\/>\mbox{\hyperlink{structST__AVION_aaf3d37edba5f035e78ee1f2485ba9ba6}{modelo}}, strtok(NULL, \textcolor{stringliteral}{"|"}));}
\DoxyCodeLine{97     avion-\/>\mbox{\hyperlink{structST__AVION_adb5bb0a96407813d7d6bca1d593797ff}{combustibleActual}} = atoi(strtok(NULL, \textcolor{stringliteral}{"|"}));}
\DoxyCodeLine{98     avion-\/>\mbox{\hyperlink{structST__AVION_ae54bdd51b1a7cfd9bb224518c5a54650}{combustibleMaximo}} = atoi(strtok(NULL, \textcolor{stringliteral}{"|"}));}
\DoxyCodeLine{99     avion-\/>\mbox{\hyperlink{structST__AVION_a3667c4d330daca662e3799f2a8ac94f9}{estado}} = atoi(strtok(NULL, \textcolor{stringliteral}{"|"}));}
\DoxyCodeLine{100     strcpy(msjServidor, strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)0"}));}
\DoxyCodeLine{101 \}}

\end{DoxyCode}
